{"version":3,"file":"plugin.esm.js","sources":["../src/plugin.ts"],"sourcesContent":["import {\n  createApiFactory,\n  createPlugin,\n  createRoutableExtension,\n  discoveryApiRef,\n  fetchApiRef,\n} from '@backstage/core-plugin-api';\n\nimport { rootRouteRef } from './routes';\nimport { createCardExtension } from '@backstage/plugin-home-react';\nimport { defaultTools } from './components/Root';\nimport { toolboxApiRef, ToolboxClient } from './api';\n\nexport const toolboxPlugin = createPlugin({\n  id: 'toolbox',\n  routes: {\n    root: rootRouteRef,\n  },\n  apis: [\n    createApiFactory({\n      api: toolboxApiRef,\n      deps: { fetchApi: fetchApiRef, discoveryApi: discoveryApiRef },\n      factory: ({ fetchApi, discoveryApi }) =>\n        new ToolboxClient({ fetchApi, discoveryApi }),\n    }),\n  ],\n});\n\nexport const ToolboxPage = toolboxPlugin.provide(\n  createRoutableExtension({\n    name: 'ToolboxPage',\n    component: () => import('./components/Root').then(m => m.Root),\n    mountPoint: rootRouteRef,\n  }),\n);\n\nexport const ToolboxHomepageCard = toolboxPlugin.provide(\n  createCardExtension<{ toolId?: string }>({\n    name: 'ToolboxHomepageCard',\n    title: 'Toolbox',\n    description: 'Shows wanted tool from the toolbox',\n    components: () => import('./components/HomepageCard'),\n    layout: {\n      height: { minRows: 4 },\n      width: { minColumns: 4 },\n    },\n    settings: {\n      schema: {\n        title: 'Toolbox settings',\n        type: 'object',\n        properties: {\n          toolId: {\n            title: 'Tool',\n            type: 'string',\n            enum: defaultTools.map(tool => tool.id),\n            default: 'any',\n          },\n        },\n      },\n    },\n  }),\n);\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAaO,MAAM,gBAAgB,YAAa,CAAA;AAAA,EACxC,EAAI,EAAA,SAAA;AAAA,EACJ,MAAQ,EAAA;AAAA,IACN,IAAM,EAAA,YAAA;AAAA,GACR;AAAA,EACA,IAAM,EAAA;AAAA,IACJ,gBAAiB,CAAA;AAAA,MACf,GAAK,EAAA,aAAA;AAAA,MACL,IAAM,EAAA,EAAE,QAAU,EAAA,WAAA,EAAa,cAAc,eAAgB,EAAA;AAAA,MAC7D,OAAA,EAAS,CAAC,EAAE,QAAU,EAAA,YAAA,EACpB,KAAA,IAAI,aAAc,CAAA,EAAE,QAAU,EAAA,YAAA,EAAc,CAAA;AAAA,KAC/C,CAAA;AAAA,GACH;AACF,CAAC,EAAA;AAEM,MAAM,cAAc,aAAc,CAAA,OAAA;AAAA,EACvC,uBAAwB,CAAA;AAAA,IACtB,IAAM,EAAA,aAAA;AAAA,IACN,SAAA,EAAW,MAAM,OAAO,gCAAmB,EAAE,IAAK,CAAA,CAAA,CAAA,KAAK,EAAE,IAAI,CAAA;AAAA,IAC7D,UAAY,EAAA,YAAA;AAAA,GACb,CAAA;AACH,EAAA;AAEO,MAAM,sBAAsB,aAAc,CAAA,OAAA;AAAA,EAC/C,mBAAyC,CAAA;AAAA,IACvC,IAAM,EAAA,qBAAA;AAAA,IACN,KAAO,EAAA,SAAA;AAAA,IACP,WAAa,EAAA,oCAAA;AAAA,IACb,UAAA,EAAY,MAAM,OAAO,wCAA2B,CAAA;AAAA,IACpD,MAAQ,EAAA;AAAA,MACN,MAAA,EAAQ,EAAE,OAAA,EAAS,CAAE,EAAA;AAAA,MACrB,KAAA,EAAO,EAAE,UAAA,EAAY,CAAE,EAAA;AAAA,KACzB;AAAA,IACA,QAAU,EAAA;AAAA,MACR,MAAQ,EAAA;AAAA,QACN,KAAO,EAAA,kBAAA;AAAA,QACP,IAAM,EAAA,QAAA;AAAA,QACN,UAAY,EAAA;AAAA,UACV,MAAQ,EAAA;AAAA,YACN,KAAO,EAAA,MAAA;AAAA,YACP,IAAM,EAAA,QAAA;AAAA,YACN,IAAM,EAAA,YAAA,CAAa,GAAI,CAAA,CAAA,IAAA,KAAQ,KAAK,EAAE,CAAA;AAAA,YACtC,OAAS,EAAA,KAAA;AAAA,WACX;AAAA,SACF;AAAA,OACF;AAAA,KACF;AAAA,GACD,CAAA;AACH;;;;"}