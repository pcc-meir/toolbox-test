{"version":3,"file":"hooks.esm.js","sources":["../src/hooks.ts"],"sourcesContent":["import { ToolboxApi, toolboxApiRef } from './api';\nimport { useApi } from '@backstage/core-plugin-api';\nimport useAsync from 'react-use/lib/useAsync';\nimport { useEffect, useState } from 'react';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\nimport { toolboxTranslationRef } from './translation';\n\nexport const useBackendTools = () => {\n  const [tools, setTools] = useState<string[]>([]);\n  const toolboxApi = useApi(toolboxApiRef);\n  useEffect(() => {\n    (async () => {\n      setTools(await toolboxApi.getBackendTools());\n    })();\n  }, [toolboxApi]);\n  return tools;\n};\n\nexport function useToolboxApi<T>(\n  f: (api: ToolboxApi) => Promise<T>,\n  deps: any[] = [],\n) {\n  const toolboxApi = useApi(toolboxApiRef);\n\n  return useAsync(async () => {\n    return await f(toolboxApi);\n  }, deps);\n}\n\nexport const useToolboxTranslation = () => {\n  return useTranslationRef(toolboxTranslationRef) as any;\n};\n"],"names":[],"mappings":";;;;;;;AAOO,MAAM,kBAAkB,MAAM;AACnC,EAAA,MAAM,CAAC,KAAO,EAAA,QAAQ,CAAI,GAAA,QAAA,CAAmB,EAAE,CAAA,CAAA;AAC/C,EAAM,MAAA,UAAA,GAAa,OAAO,aAAa,CAAA,CAAA;AACvC,EAAA,SAAA,CAAU,MAAM;AACd,IAAA,CAAC,YAAY;AACX,MAAS,QAAA,CAAA,MAAM,UAAW,CAAA,eAAA,EAAiB,CAAA,CAAA;AAAA,KAC1C,GAAA,CAAA;AAAA,GACL,EAAG,CAAC,UAAU,CAAC,CAAA,CAAA;AACf,EAAO,OAAA,KAAA,CAAA;AACT,EAAA;AAEO,SAAS,aACd,CAAA,CAAA,EACA,IAAc,GAAA,EACd,EAAA;AACA,EAAM,MAAA,UAAA,GAAa,OAAO,aAAa,CAAA,CAAA;AAEvC,EAAA,OAAO,SAAS,YAAY;AAC1B,IAAO,OAAA,MAAM,EAAE,UAAU,CAAA,CAAA;AAAA,KACxB,IAAI,CAAA,CAAA;AACT,CAAA;AAEO,MAAM,wBAAwB,MAAM;AACzC,EAAA,OAAO,kBAAkB,qBAAqB,CAAA,CAAA;AAChD;;;;"}