{"version":3,"file":"JsonToCsv.esm.js","sources":["../../../src/components/Converters/JsonToCsv.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { DefaultEditor } from '../DefaultEditor';\nimport { Parser } from '@json2csv/plainjs';\n\nexport const JsonToCsv = () => {\n  const [input, setInput] = React.useState('');\n  const [output, setOutput] = React.useState('');\n  const sample = JSON.stringify(\n    [\n      { type: 'car', name: 'pedro', stars: 3 },\n      { type: 'plant', name: 'samuel', stars: 2 },\n    ],\n    null,\n    4,\n  );\n\n  useEffect(() => {\n    let obj;\n    let err;\n    try {\n      obj = JSON.parse(input);\n    } catch (e) {\n      err = e.message;\n    }\n\n    if (obj) {\n      try {\n        const parser = new Parser();\n        setOutput(parser.parse(obj));\n        return;\n      } catch (e) {\n        err = e.message;\n      }\n    }\n\n    if (input && err) {\n      setOutput(err);\n    } else {\n      setOutput('');\n    }\n  }, [input]);\n\n  return (\n    <DefaultEditor\n      input={input}\n      setInput={setInput}\n      output={output}\n      sample={sample}\n      inputLabel=\"JSON\"\n      outputLabel=\"CSV\"\n      allowFileUpload\n      acceptFileTypes=\".json\"\n      allowFileDownload\n      downloadFileName=\"download.csv\"\n      downloadFileType=\"text/csv\"\n    />\n  );\n};\n\nexport default JsonToCsv;\n"],"names":[],"mappings":";;;;AAIO,MAAM,YAAY,MAAM;AAC7B,EAAA,MAAM,CAAC,KAAO,EAAA,QAAQ,CAAI,GAAA,KAAA,CAAM,SAAS,EAAE,CAAA,CAAA;AAC3C,EAAA,MAAM,CAAC,MAAQ,EAAA,SAAS,CAAI,GAAA,KAAA,CAAM,SAAS,EAAE,CAAA,CAAA;AAC7C,EAAA,MAAM,SAAS,IAAK,CAAA,SAAA;AAAA,IAClB;AAAA,MACE,EAAE,IAAM,EAAA,KAAA,EAAO,IAAM,EAAA,OAAA,EAAS,OAAO,CAAE,EAAA;AAAA,MACvC,EAAE,IAAM,EAAA,OAAA,EAAS,IAAM,EAAA,QAAA,EAAU,OAAO,CAAE,EAAA;AAAA,KAC5C;AAAA,IACA,IAAA;AAAA,IACA,CAAA;AAAA,GACF,CAAA;AAEA,EAAA,SAAA,CAAU,MAAM;AACd,IAAI,IAAA,GAAA,CAAA;AACJ,IAAI,IAAA,GAAA,CAAA;AACJ,IAAI,IAAA;AACF,MAAM,GAAA,GAAA,IAAA,CAAK,MAAM,KAAK,CAAA,CAAA;AAAA,aACf,CAAG,EAAA;AACV,MAAA,GAAA,GAAM,CAAE,CAAA,OAAA,CAAA;AAAA,KACV;AAEA,IAAA,IAAI,GAAK,EAAA;AACP,MAAI,IAAA;AACF,QAAM,MAAA,MAAA,GAAS,IAAI,MAAO,EAAA,CAAA;AAC1B,QAAU,SAAA,CAAA,MAAA,CAAO,KAAM,CAAA,GAAG,CAAC,CAAA,CAAA;AAC3B,QAAA,OAAA;AAAA,eACO,CAAG,EAAA;AACV,QAAA,GAAA,GAAM,CAAE,CAAA,OAAA,CAAA;AAAA,OACV;AAAA,KACF;AAEA,IAAA,IAAI,SAAS,GAAK,EAAA;AAChB,MAAA,SAAA,CAAU,GAAG,CAAA,CAAA;AAAA,KACR,MAAA;AACL,MAAA,SAAA,CAAU,EAAE,CAAA,CAAA;AAAA,KACd;AAAA,GACF,EAAG,CAAC,KAAK,CAAC,CAAA,CAAA;AAEV,EACE,uBAAA,KAAA,CAAA,aAAA;AAAA,IAAC,aAAA;AAAA,IAAA;AAAA,MACC,KAAA;AAAA,MACA,QAAA;AAAA,MACA,MAAA;AAAA,MACA,MAAA;AAAA,MACA,UAAW,EAAA,MAAA;AAAA,MACX,WAAY,EAAA,KAAA;AAAA,MACZ,eAAe,EAAA,IAAA;AAAA,MACf,eAAgB,EAAA,OAAA;AAAA,MAChB,iBAAiB,EAAA,IAAA;AAAA,MACjB,gBAAiB,EAAA,cAAA;AAAA,MACjB,gBAAiB,EAAA,UAAA;AAAA,KAAA;AAAA,GACnB,CAAA;AAEJ;;;;"}