{"version":3,"file":"CsvToJson.esm.js","sources":["../../../src/components/Converters/CsvToJson.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { DefaultEditor } from '../DefaultEditor';\nimport csvToJson from 'csvtojson';\nimport { JsonSpaceSelector } from '../DefaultEditor/JsonSpaceSelector';\n\nexport const CsvToJson = () => {\n  const [input, setInput] = React.useState('');\n  const [output, setOutput] = React.useState('');\n  const [spaces, setSpaces] = React.useState(4);\n\n  const sample =\n    'color,maxSpeed,type\\n' +\n    '\"red\",120,\"truck\"\\n' +\n    '\"blue\",100,\"panzerwagen\"\\n' +\n    '\"green\",130,\"suv\"';\n\n  useEffect(() => {\n    const getJson = async (value: string) => {\n      const obj = await csvToJson().fromString(value);\n      return JSON.stringify(obj, null, spaces);\n    };\n\n    getJson(input)\n      .then(val => setOutput(val))\n      .catch(e => setOutput(`Invalid CSV: ${e.message}`));\n  }, [input, spaces]);\n\n  return (\n    <DefaultEditor\n      input={input}\n      setInput={setInput}\n      output={output}\n      sample={sample}\n      inputLabel=\"CSV\"\n      outputLabel=\"JSON\"\n      allowFileUpload\n      acceptFileTypes=\".csv\"\n      allowFileDownload\n      downloadFileName=\"download.json\"\n      downloadFileType=\"application/json\"\n      additionalTools={[\n        <JsonSpaceSelector spaces={spaces} onChange={setSpaces} />,\n      ]}\n    />\n  );\n};\n\nexport default CsvToJson;\n"],"names":[],"mappings":";;;;;AAKO,MAAM,YAAY,MAAM;AAC7B,EAAA,MAAM,CAAC,KAAO,EAAA,QAAQ,CAAI,GAAA,KAAA,CAAM,SAAS,EAAE,CAAA,CAAA;AAC3C,EAAA,MAAM,CAAC,MAAQ,EAAA,SAAS,CAAI,GAAA,KAAA,CAAM,SAAS,EAAE,CAAA,CAAA;AAC7C,EAAA,MAAM,CAAC,MAAQ,EAAA,SAAS,CAAI,GAAA,KAAA,CAAM,SAAS,CAAC,CAAA,CAAA;AAE5C,EAAA,MAAM,MACJ,GAAA,qFAAA,CAAA;AAKF,EAAA,SAAA,CAAU,MAAM;AACd,IAAM,MAAA,OAAA,GAAU,OAAO,KAAkB,KAAA;AACvC,MAAA,MAAM,GAAM,GAAA,MAAM,SAAU,EAAA,CAAE,WAAW,KAAK,CAAA,CAAA;AAC9C,MAAA,OAAO,IAAK,CAAA,SAAA,CAAU,GAAK,EAAA,IAAA,EAAM,MAAM,CAAA,CAAA;AAAA,KACzC,CAAA;AAEA,IAAA,OAAA,CAAQ,KAAK,CAAA,CACV,IAAK,CAAA,CAAA,GAAA,KAAO,UAAU,GAAG,CAAC,CAC1B,CAAA,KAAA,CAAM,OAAK,SAAU,CAAA,CAAA,aAAA,EAAgB,CAAE,CAAA,OAAO,EAAE,CAAC,CAAA,CAAA;AAAA,GACnD,EAAA,CAAC,KAAO,EAAA,MAAM,CAAC,CAAA,CAAA;AAElB,EACE,uBAAA,KAAA,CAAA,aAAA;AAAA,IAAC,aAAA;AAAA,IAAA;AAAA,MACC,KAAA;AAAA,MACA,QAAA;AAAA,MACA,MAAA;AAAA,MACA,MAAA;AAAA,MACA,UAAW,EAAA,KAAA;AAAA,MACX,WAAY,EAAA,MAAA;AAAA,MACZ,eAAe,EAAA,IAAA;AAAA,MACf,eAAgB,EAAA,MAAA;AAAA,MAChB,iBAAiB,EAAA,IAAA;AAAA,MACjB,gBAAiB,EAAA,eAAA;AAAA,MACjB,gBAAiB,EAAA,kBAAA;AAAA,MACjB,eAAiB,EAAA;AAAA,wBACd,KAAA,CAAA,aAAA,CAAA,iBAAA,EAAA,EAAkB,MAAgB,EAAA,QAAA,EAAU,SAAW,EAAA,CAAA;AAAA,OAC1D;AAAA,KAAA;AAAA,GACF,CAAA;AAEJ;;;;"}